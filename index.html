<!DOCTYPE html>  
<html>        
<head>          
    <title>WhatsApp Bot Pairing</title>          
    <meta name="viewport" content="width=device-width, initial-scale=1.0">          
    <style>          
        body { font-family: sans-serif; text-align: center; background: #0d001e; color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }          
        .container { background: rgba(255,255,255,0.1); padding: 30px; border-radius: 20px; width: 350px; }          
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: none; box-sizing: border-box; }          
        button { width: 100%; padding: 12px; border-radius: 8px; border: none; background: #6200ee; color: white; cursor: pointer; font-weight: bold; }          
        #pairingCode { font-size: 1.5rem; color: #25d366; margin-top: 15px; letter-spacing: 3px; display: none; background: #000; padding: 10px; border-radius: 10px; }
    </style>      
</head>          
<body>          
    <div class="container">          
        <h2>Link Your Bot</h2>          
        <input type="text" id="number" placeholder="91xxxxxxxxxx">          
        <button onclick="getCode()">Get Pairing Code</button>          
        <div id="status"></div>          
        <div id="pairingCode"></div>      
    </div>          
    <script>          
        async function getCode() {          
            const num = document.getElementById('number').value;          
            const status = document.getElementById('status');          
            const codeBox = document.getElementById('pairingCode');          
            if(!num) return alert("Enter number");          
            status.innerText = "⏳ Requesting...";          
            try {      
                const res = await fetch(`/pair?number=${num}`);      
                const data = await res.json();      
                if(data.code) {      
                    status.innerText = "✅ Use this code on WhatsApp:";      
                    codeBox.innerText = data.code;      
                    codeBox.style.display = 'block';      
                } else { status.innerText = "❌ Error: " + data.error; }      
            } catch (e) { status.innerText = "⚠️ Server Error"; }      
        }    
    </script>      
</body>          
</html>
